{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/local-storage-api.js","../src/js/markup-tasks.js","../src/js/render-tasks.js","../src/js/tasks.js","../src/js/theme-switcher.js","../src/main.js"],"sourcesContent":["export default {\n  button: document.querySelector('.button'),\n  input: document.querySelector('.input'),\n  form: document.querySelector('.header-form'),\n  tasks: document.querySelector('#task-list'),\n  triggerThemeButton: document.querySelector('#themeToggle'),\n};\n","const localStorageKey = 'tasks';\nconst localStorageThemeKey = 'theme';\n\nfunction getTasksStorage() {\n  return JSON.parse(localStorage.getItem(localStorageKey));\n}\n\nfunction setTasksStorage(data) {\n  localStorage.setItem(localStorageKey, JSON.stringify(data));\n}\n\nfunction updateTasksStorage(id) {\n  const updatedStore = getTasksStorage().filter(item => item.id !== id);\n  setTasksStorage(updatedStore);\n}\n\nfunction getThemeStorage() {\n  return JSON.parse(localStorage.getItem(localStorageThemeKey));\n}\n\nfunction setThemeStorage(name) {\n  localStorage.setItem(localStorageThemeKey, JSON.stringify(name));\n}\n\nexport {\n  localStorageKey,\n  getTasksStorage,\n  setTasksStorage,\n  updateTasksStorage,\n  localStorageThemeKey,\n  getThemeStorage,\n  setThemeStorage\n};\n","export default function createMarkup (id, title, text) {\n  return `\n      <li class=\"task-list-item\" data-id=\"${id}\">\n      <button class=\"task-list-item-btn\">Delete</button>\n      <h3>${title}</h3>\n      <p>${text}</p>\n    </li>\n  `;\n}\n","import createMarkup from './markup-tasks';\n\nexport default function renderTask(arr) {\n  return arr\n    .map(({ id, name, description }) => createMarkup(id, name, description))\n    .join('');\n}\n","import refs from './refs';\nimport renderTask from './render-tasks';\n\nexport default function renderTaskComponents(markup) {\n  refs.tasks.insertAdjacentHTML('beforeend', renderTask(markup));\n}\n\nexport function removeTask(item) {\n  item.remove();\n}\n","import { getThemeStorage, setThemeStorage } from './local-storage-api';\nexport default function changeTheme() {\n  const body = document.body;\n  let currentTheme = getThemeStorage();\n\n  if (!currentTheme) {\n    currentTheme = body.classList.contains('theme-dark') ? 'dark' : 'light';\n  }\n\n  const newTheme = currentTheme === 'light' ? 'dark' : 'light';\n\n  body.classList.remove(`theme-${currentTheme}`);\n  body.classList.add(`theme-${newTheme}`);\n\n  setThemeStorage(newTheme);\n}\n\nexport function initTheme() {\n  const savedTheme = getThemeStorage() ?? 'light';\n  document.body.classList.add(`theme-${savedTheme}`);\n}\n","import { nanoid } from 'nanoid';\nimport refs from './js/refs';\nimport {\n  setTasksStorage,\n  getTasksStorage,\n  updateTasksStorage,\n} from './js/local-storage-api';\nimport renderTaskComponents, { removeTask } from './js/tasks';\nimport changeTheme, {initTheme} from './js/theme-switcher';\n\nconst dataArr = getTasksStorage() ?? [];\n\nrenderTaskComponents(dataArr);\n\nfunction submitHandler(e) {\n  e.preventDefault();\n\n  const name = e.target.elements.taskName.value.trim();\n  const description = e.target.elements.taskDescription.value.trim();\n\n   const formData = {\n    id: nanoid(),\n    name,\n    description,\n  };\n\n  dataArr.push(formData);\n\n  refs.form.reset();\n  setTasksStorage(dataArr);\n\n  renderTaskComponents([formData]);\n}\n\nfunction deleteTaskHandler(e) {\n  if (!e.target.classList.contains('task-list-item-btn')) return;\n\n  const currentTask = e.target.closest('.task-list-item');\n  const tasksId = currentTask.dataset.id;\n\n  updateTasksStorage(tasksId);\n  removeTask(currentTask);\n}\n\nrefs.form.addEventListener('submit', submitHandler);\n\nrefs.tasks.addEventListener('click', deleteTaskHandler);\n\ninitTheme();\nrefs.triggerThemeButton.addEventListener('click', changeTheme);\n"],"names":["refs","localStorageKey","localStorageThemeKey","getTasksStorage","setTasksStorage","data","updateTasksStorage","id","updatedStore","item","getThemeStorage","setThemeStorage","name","createMarkup","title","text","renderTask","arr","description","renderTaskComponents","markup","removeTask","changeTheme","body","currentTheme","newTheme","initTheme","savedTheme","dataArr","submitHandler","formData","nanoid","deleteTaskHandler","currentTask","tasksId"],"mappings":"svBAAA,MAAeA,EAAA,CACb,OAAQ,SAAS,cAAc,SAAS,EACxC,MAAO,SAAS,cAAc,QAAQ,EACtC,KAAM,SAAS,cAAc,cAAc,EAC3C,MAAO,SAAS,cAAc,YAAY,EAC1C,mBAAoB,SAAS,cAAc,cAAc,CAC3D,ECNMC,EAAkB,QAClBC,EAAuB,QAE7B,SAASC,GAAkB,CACzB,OAAO,KAAK,MAAM,aAAa,QAAQF,CAAe,CAAC,CACzD,CAEA,SAASG,EAAgBC,EAAM,CAC7B,aAAa,QAAQJ,EAAiB,KAAK,UAAUI,CAAI,CAAC,CAC5D,CAEA,SAASC,EAAmBC,EAAI,CAC9B,MAAMC,EAAeL,EAAe,EAAG,OAAOM,GAAQA,EAAK,KAAOF,CAAE,EACpEH,EAAgBI,CAAY,CAC9B,CAEA,SAASE,GAAkB,CACzB,OAAO,KAAK,MAAM,aAAa,QAAQR,CAAoB,CAAC,CAC9D,CAEA,SAASS,EAAgBC,EAAM,CAC7B,aAAa,QAAQV,EAAsB,KAAK,UAAUU,CAAI,CAAC,CACjE,CCtBe,SAASC,EAAcN,EAAIO,EAAOC,EAAM,CACrD,MAAO;AAAA,4CACmCR,CAAE;AAAA;AAAA,YAElCO,CAAK;AAAA,WACNC,CAAI;AAAA;AAAA,GAGf,CCNe,SAASC,EAAWC,EAAK,CACtC,OAAOA,EACJ,IAAI,CAAC,CAAE,GAAAV,EAAI,KAAAK,EAAM,YAAAM,KAAkBL,EAAaN,EAAIK,EAAMM,CAAW,CAAC,EACtE,KAAK,EAAE,CACZ,CCHe,SAASC,EAAqBC,EAAQ,CACnDpB,EAAK,MAAM,mBAAmB,YAAagB,EAAWI,CAAM,CAAC,CAC/D,CAEO,SAASC,EAAWZ,EAAM,CAC/BA,EAAK,OAAM,CACb,CCRe,SAASa,GAAc,CACpC,MAAMC,EAAO,SAAS,KACtB,IAAIC,EAAed,IAEdc,IACHA,EAAeD,EAAK,UAAU,SAAS,YAAY,EAAI,OAAS,SAGlE,MAAME,EAAWD,IAAiB,QAAU,OAAS,QAErDD,EAAK,UAAU,OAAO,SAASC,CAAY,EAAE,EAC7CD,EAAK,UAAU,IAAI,SAASE,CAAQ,EAAE,EAEtCd,EAAgBc,CAAQ,CAC1B,CAEO,SAASC,GAAY,CAC1B,MAAMC,EAAajB,EAAiB,GAAI,QACxC,SAAS,KAAK,UAAU,IAAI,SAASiB,CAAU,EAAE,CACnD,CCVA,MAAMC,EAAUzB,EAAiB,GAAI,GAErCgB,EAAqBS,CAAO,EAE5B,SAASC,EAAc,EAAG,CACxB,EAAE,eAAc,EAEhB,MAAMjB,EAAO,EAAE,OAAO,SAAS,SAAS,MAAM,OACxCM,EAAc,EAAE,OAAO,SAAS,gBAAgB,MAAM,OAErDY,EAAW,CAChB,GAAIC,EAAQ,EACZ,KAAAnB,EACA,YAAAM,CACJ,EAEEU,EAAQ,KAAKE,CAAQ,EAErB9B,EAAK,KAAK,QACVI,EAAgBwB,CAAO,EAEvBT,EAAqB,CAACW,CAAQ,CAAC,CACjC,CAEA,SAASE,EAAkB,EAAG,CAC5B,GAAI,CAAC,EAAE,OAAO,UAAU,SAAS,oBAAoB,EAAG,OAExD,MAAMC,EAAc,EAAE,OAAO,QAAQ,iBAAiB,EAChDC,EAAUD,EAAY,QAAQ,GAEpC3B,EAAmB4B,CAAO,EAC1Bb,EAAWY,CAAW,CACxB,CAEAjC,EAAK,KAAK,iBAAiB,SAAU6B,CAAa,EAElD7B,EAAK,MAAM,iBAAiB,QAASgC,CAAiB,EAEtDN,IACA1B,EAAK,mBAAmB,iBAAiB,QAASsB,CAAW"}